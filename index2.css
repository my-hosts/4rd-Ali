html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  background-size: cover;
}

.game-stage {
  position: relative;
  width: min(90vw, 800px);
  height: auto;
  aspect-ratio: 4 / 3;
  transform-origin: center;
}

/* === Background === */
.background-overlay {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  height: 100%;
  object-fit: contain;
  mix-blend-mode: multiply;
  opacity: 1;
  pointer-events: none;
  z-index: -1;
}

.audio-overlay{
  position: absolute;
  width: 100vw;
  height: 100vh;
  background: linear-gradient(90deg,rgba(2, 0, 36, 1) 0%, rgba(9, 9, 121, 1) 35%, rgba(0, 212, 255, 1) 100%);
  z-index: 99;
}

.audio-button{
  position: fixed;          /* stays centered on screen */
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: clamp(60px, 10vw, 120px); /* responsive size */
  height: clamp(60px, 10vw, 120px);
  background-image: url("play_button.png");
  background-repeat: no-repeat;
  background-size: contain;  /* preserves proportions */
  background-position: center;
  z-index: 100;
  cursor: pointer;
}

/* === Title === */
h1 {
  position: absolute;
  top: -15%;
  left: 50%;
  transform: translateX(-50%);
  font-family: 'Faster One', sans-serif;
  font-size: clamp(2rem, 5vw, 5rem);
  color: black;
  text-align: center;
  margin: 0;
}



/* === Character Image === */
.a {
  position: absolute;
  top: 52.5%;
  left: 50%;
  transform: translate(-50%, -50%);
  transform-origin: top left;
  scale: 0.7;
  aspect-ratio: 1147/884; /* keeps the original proportions */
  width: clamp(100px, 40vw, 400px); /* scales with viewport */
  height: auto; /* height follows aspect ratio */
  object-fit: cover;
  border-radius: 12px;
  /*box-shadow: rgba(50, 50, 93, 0.25) 0px 50px 100px -20px, 
              rgba(0, 0, 0, 0.3) 0px 30px 60px -30px, 
              rgba(10, 37, 64, 0.35) 0px -2px 6px 0px inset;*/
  box-shadow: rgba(0, 0, 0, 0.17) 0px -23px 25px 0px inset, rgba(0, 0, 0, 0.15) 0px -36px 30px 0px inset, rgba(0, 0, 0, 0.1) 0px -79px 40px 0px inset, rgba(0, 0, 0, 0.06) 0px 2px 1px, rgba(0, 0, 0, 0.09) 0px 4px 2px, rgba(0, 0, 0, 0.09) 0px 8px 4px, rgba(0, 0, 0, 0.09) 0px 16px 8px, rgba(0, 0, 0, 0.09) 0px 32px 16px;
   
  pointer-events: none;
  z-index: 2;
}

/* === Vintage Bars === */
.vintage-bar {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  width: clamp(200px, 50vw, 235px);
  height: 28px;
  background-color: #000;
  border: 2px solid #909190;
  border-radius: 8px;
  box-shadow: inset -2px -2px 0 #d2d4d2, inset 2px 2px 0 #29381c;
  padding: 4px;
  color: whitesmoke;
  font-size: clamp(0.6rem, 1vw, 0.9rem);
  text-align: center;
  z-index: 5;
}

.vintage-bar:nth-of-type(1) { top: 55%; margin-top: -220px; }
.vintage-bar:nth-of-type(2) { top: 55%; margin-top: -180px; }
.vintage-bar:nth-of-type(3) { top: 55%; margin-top: -140px; }
.vintage-bar:nth-of-type(4) { top: 55%; margin-top: -100px; }

.vintage-fill {
  height: 100%;
  background: repeating-linear-gradient(
    90deg,
    #394d27 0 10px,
    #1f1d1d 6px 15px
  );
  border-top-left-radius: 5px;
  transition: width 0.5s ease;
}

/* === Button Grid === */
.container {
  position: absolute;
  top: 77%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: min(70vw, 440px);
  display: grid;
  grid-template-rows: repeat(2, 1fr);
  grid-template-columns: 
    1fr      /* col 1: pos-1 */
    1vw      /* col 2: a */
    1fr      /* col 3: empty */
    0.7vw      /* col 4: b */
    1fr      /* col 5: empty */
    0.7vw      /* col 6: b */
    1fr      /* col 7: empty */
    1vw      /* col 8: a */
    1fr;     /* col 9: pos-4 */
  justify-items: center;
  align-items: center;
}
  

/* === Grid Positions (matching your request) === */
.pos-1 { grid-column: 1; grid-row: 1; }
.pos-2 { grid-column: 3; grid-row: 2; }
.pos-3 { grid-column: 7; grid-row: 2; }
.pos-4 { grid-column: 9; grid-row: 1; }



button {
      all: unset;
      cursor: pointer;
      -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
      /*position: absolute;*/
      /*transform: translate(-50%, -50%);*/
      /*margin-top: 10px;
      margin-left: 15px;
      margin-right: 15px;*/
      border-radius: 100em;
      background-color: rgba(0, 0, 0, 0.75);
      box-shadow: -0.15em -0.15em 0.15em -0.15em rgba(5, 5, 5, 0.25),
          0.0375em 0.0375em 0.0375em 0 rgba(5, 5, 5, 0.1);

    }

    button::after {
        content: "";
        position: relative;
        z-index: 0;
        width: calc(50% + 0.3em);
        height: calc(50% + 0.3em);
        top: -0.15em;
        left: -0.15em;
        border-radius: inherit;
        background: linear-gradient(-135deg,
                rgba(5, 5, 5, 0.5),
                transparent 20%,
                transparent 100%);
        filter: blur(0.0125em);
        opacity: 0.25;
        mix-blend-mode: multiply;
    }
    .button:hover .button-outer {
      box-shadow:
        0 0 0 0 rgba(5, 5, 5, 1),
        0 0 0 0 rgba(5, 5, 5, 0.5),
        0 0 0 0 rgba(5, 5, 5, 0.25);
    }

    button .button-outer {
        position: relative;
        z-index: 1;
        border-radius: inherit;
        transition: box-shadow 300ms ease;
        will-change: box-shadow;
        box-shadow: 0 0.05em 0.05em -0.01em rgba(5, 5, 5, 1),
            0 0.01em 0.01em -0.01em rgba(5, 5, 5, 0.5),
            0.15em 0.3em 0.1em -0.01em rgba(5, 5, 5, 0.25);
    }

    .button-inner {
    
        --inset: 0.035em;
        position: relative;
        z-index: 1;
        border-radius: inherit;
        padding: 1.5em 1.5em;
        background-image: linear-gradient(135deg,
                rgba(230, 230, 230, 1),
                rgba(180, 180, 180, 1));
        transition: box-shadow 300ms ease, clip-path 250ms ease,
            background-image 250ms ease, transform 250ms ease;
        will-change: box-shadow, clip-path, background-image, transform;
        overflow: clip;
        clip-path: inset(0 0 0 0 round 999vw);
        box-shadow:
            /* 1 */
            0 0 0 0 inset rgba(5, 5, 5, 0.1),
            /* 2 */
            -0.05em -0.05em 0.05em 0 inset rgba(5, 5, 5, 0.25),
            /* 3 */
            0 0 0 0 inset rgba(5, 5, 5, 0.1),
            /* 4 */
            0 0 0.05em 0.2em inset rgba(255, 255, 255, 0.25),
            /* 5 */
            0.025em 0.05em 0.1em 0 inset rgba(255, 255, 255, 1),
            /* 6 */
            0.12em 0.12em 0.12em inset rgba(255, 255, 255, 0.25),
            /* 7 */
            -0.075em -0.25em 0.25em 0.1em inset rgba(5, 5, 5, 0.25);
    }
    button:hover .button-inner {
        clip-path: inset(clamp(1px, 0.0625em, 2px) clamp(1px, 0.0625em, 2px) clamp(1px, 0.0625em, 2px) clamp(1px, 0.0625em, 2px) round 999vw);
        box-shadow:
            /* 1 */
            0.1em 0.15em 0.05em 0 inset rgba(5, 5, 5, 0.75),
            /* 2 */
            -0.025em -0.03em 0.05em 0.025em inset rgba(5, 5, 5, 0.5),
            /* 3 */
            0.25em 0.25em 0.2em 0 inset rgba(5, 5, 5, 0.5),
            /* 4 */
            0 0 0.05em 0.5em inset rgba(255, 255, 255, 0.15),
            /* 5 */
            0 0 0 0 inset rgba(255, 255, 255, 1),
            /* 6 */
            0.12em 0.12em 0.12em inset rgba(255, 255, 255, 0.25),
            /* 7 */
            -0.075em -0.12em 0.2em 0.1em inset rgba(5, 5, 5, 0.25);
    }
    button .button-inner span {
      width: 30px;
      height: 30px;
        position: relative;
        z-index: 4;
        font-family: "Comic Sans MS", sans-serif;
        letter-spacing: -0.05em;
        font-weight: 500;
        color: rgba(0, 0, 0, 0);
        background-image: linear-gradient(135deg,
                rgba(25, 25, 25, 1),
                rgba(75, 75, 75, 1));
        /*-webkit-background-clip: text;*/
        background-clip: text;
        transition: transform 250ms ease;
        display: block;
        will-change: transform;
        text-shadow: rgba(0, 0, 0, 0.1) 0 0 0.1em;
        -webkit-user-select: none; 
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }
    button:hover .button-inner span {
        transform: scale(0.975);
    }

    button:active .button-inner {
        transform: scale(0.975);
    }


/* === Mobile Tweaks === */
@media (max-width: 600px) {
  .game-stage {
    max-width: 90vw;
    height: auto;
  }

  .a {
    width: clamp(80px, 60vw, 250px);
  }

  .vintage-bar {
    height: 24px;
    width: 80vw;
  }

  .container {
    grid-template-columns: repeat(5, 1fr);
    grid-template-rows: repeat(2, 1fr);
    gap: 1.5vw 2vw; /* smaller gaps for mobile */
    max-width: 95vw;
    transform: translate(-50%, -50%);
    top: 65%;
    left: 50%;
  }


button {
    --mobile-size: clamp(40px, 12vw, 50px); /* width & height */
    width: var(--mobile-size);
    height: var(--mobile-size); /* force circular shape */
  }

  .button-inner {
    padding: 0; /* remove extra padding */
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .button-inner span {
    font-size: clamp(12px, 4vw, 20px); /* scale icon/text */
  }


  h1 {
    font-size: 2rem;
    top: 8%;
  }
}
